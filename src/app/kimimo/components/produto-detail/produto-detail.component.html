<form [formGroup]="produtoForm">
<mat-card>
  <mat-card-header>
    <mat-card-title>
      <label *ngIf="produtoForm.get('id').value">Edit Product</label>
      <label *ngIf="!produtoForm.get('id').value">New Product</label>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <hr/>
    <mat-form-field hintLabel="Max 50 characters">
      <input matInput #input maxlength="50" placeholder="Product name" type="text" formControlName="name">
      <mat-hint align="end">{{input.value?.length || 0}}/50</mat-hint>
    </mat-form-field>
    <mat-form-field>
      <input matInput placeholder="Amount" type="number" formControlName="value">
      <span matPrefix>R$&nbsp;</span>
    </mat-form-field>
    <mat-form-field>
      <input matInput placeholder="Quantity" type="number" formControlName="quantity">
    </mat-form-field>
  </mat-card-content>
  <mat-card-actions>
    <button mat-raised-button routerLink="../produtos" (click)="unselect()" color="primary">
      <mat-icon>arrow_back</mat-icon> Back
    </button>
    <button mat-raised-button *ngIf="!produtoForm.get('id').value" (click)="salvar()" color="accent">
      <mat-icon>add</mat-icon> Add
    </button>
    <button mat-raised-button *ngIf="produtoForm.get('id').value" (click)="update()" color="accent">
      <mat-icon>edit</mat-icon> Edit
    </button>
    <button mat-raised-button *ngIf="produtoForm.get('id').value" (click)="delete()" color="warn">
      <mat-icon>delete</mat-icon> Delete
    </button>
  </mat-card-actions>
</mat-card>
</form>
